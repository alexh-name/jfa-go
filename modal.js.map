{
  "version": 3,
  "sources": ["ts/modal.ts"],
  "sourcesContent": ["declare var window: Window;\n\nclass Modal {\n    modal: HTMLDivElement;\n    closeButton: HTMLSpanElement;\n    constructor(modal: HTMLDivElement, important: boolean = false) {\n        this.modal = modal;\n        const closeButton = this.modal.querySelector('span.modal-close')\n        if (closeButton !== null) {\n            this.closeButton = closeButton as HTMLSpanElement;\n            this.closeButton.onclick = this.close;\n        }\n        if (!important) {\n            window.addEventListener('click', (event: Event) => {\n                if (event.target == this.modal) { this.close(); }\n            });\n        }\n    }\n    close = (event?: Event) => {\n        if (event) {\n            event.preventDefault();\n        }\n        this.modal.classList.add('modal-hiding');\n        const modal = this.modal;\n        const listenerFunc = function () {\n            modal.classList.remove('modal-shown');\n            modal.classList.remove('modal-hiding');\n            modal.removeEventListener(window.animationEvent, listenerFunc);\n        };\n        this.modal.addEventListener(window.animationEvent, listenerFunc, false);\n    }\n    show = () => {\n        this.modal.classList.add('modal-shown');\n    }\n    toggle = () => {\n        if (this.modal.classList.contains('modal-shown')) {\n            this.close();\n        } else {\n            this.show();\n        }\n    }\n}\n"],
  "mappings": "AAAA;AAAA,EAKI,YAAY,mBAA4C;AAaxD,iBAAQ;AACJ,UAAI;AACA,cAAM;AAAA;AAEV,WAAK,MAAM,UAAU,IAAI;AACzB,oBAAc,KAAK;AACnB,2BAAqB;AACjB,cAAM,UAAU,OAAO;AACvB,cAAM,UAAU,OAAO;AACvB,cAAM,oBAAoB,OAAO,gBAAgB;AAAA;AAErD,WAAK,MAAM,iBAAiB,OAAO,gBAAgB,cAAc;AAAA;AAErE,gBAAO;AACH,WAAK,MAAM,UAAU,IAAI;AAAA;AAE7B,kBAAS;AACL,UAAI,KAAK,MAAM,UAAU,SAAS;AAC9B,aAAK;AAAA;AAEL,aAAK;AAAA;AAAA;AAhCT,SAAK,QAAQ;AACb,wBAAoB,KAAK,MAAM,cAAc;AAC7C,QAAI,gBAAgB;AAChB,WAAK,cAAc;AACnB,WAAK,YAAY,UAAU,KAAK;AAAA;AAEpC,QAAI,CAAC;AACD,aAAO,iBAAiB,SAAS;AAC7B,YAAI,MAAM,UAAU,KAAK;AAAS,eAAK;AAAA;AAAA;AAAA;AAAA;AAAA;",
  "names": []
}
